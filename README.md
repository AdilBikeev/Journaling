# Journaling - Журналирование

## Задача
Разработать  программу,  имитирующую работу журналируемой файловой системы и программу коррекции.

Программа  1 должна  реализовывать  команды:  создание  файла, изменение файла,  удаление  файла  и вести журнал этих действий. Между записью о начале  и  завершении  действий  должна  быть   пауза, для возможности имитации  сбой  путем снятия программы с выполнения. Создаваемые файлы хранятся  в  отдельном  хранилище (каталоге). Должно поддерживаться не менее 10 существующих файлов.

Программа  2  (может  быть  в составе комплекса с программой 1) должна проверять корректность  файлов  и  журнала  и  исправлять  ошибки  в хранилище  файлов.  Ошибки  могут  быть вызваны как прерыванием работы программы  1, так и удалением/созданием файлов в обход программы 1 или искусственным повреждением файла журнала.

## Пояснение

Вы можете реализовать задание, как в рамках 1ой программы, так и в рамках 2х программ - на Ваше усмотрение. Все попытки удаления (извне) и повреждения файла должны быть показаны в журнале. Т.е. надо делать бэкап файлов на момент закрытия программы и при запуске сравнивать содержимое папки с архивом.
Прерывание программы. Допустим, Вы ввели имя файла, нажали Enter и Ваша программа вылетела (вы делаете небольшую паузу, чтобы успеть завершить программу). В журнале должна появится запись было начало создание файла ***. При запуске программы, в самом начале должно выводится, что в предыдущем сеансе было начало создание файла. И выбор - хотим продолжить или нет. И действуем по обстановке, если нет, то стандартное начало (в журнал - запись об отмнене создания файла), если да, то продолжаете программу с момента,на котором прервались в прошлый раз (в журнал - запись о том, что создание файла завершено). В журнале должны быть показаны все Ваши действия.

## Используемые ЯП и технологий в проекте
1) C# для написания логики приложения, работа в файловой системой, инициирвоание ассинхронных Тасков и взаимодейсвтия с WinAPI
2) WPF - для создания графической составляющей проекта посредством языка рразметки XAML
3) Core - для кроссплатформенности приложения

## Демонстрация работы работы проекта
[![Watch the video](https://4.downloader.disk.yandex.ru/preview/c7a87eb3a19893e30e35f93eeb645ffa3682cbba7ccd0e644cc94aa019d16a68/inf/9bzICjqJUuSWhuMPeiQWibSpNQ6OyDCf5i1e4iwhpV6NEiOvKGVl4pPU_jHVJPBHyiheIJ8Hb9NJGMG3d5uAog%3D%3D?uid=325371903&filename=Screenshot_6.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=325371903&tknv=v2&size=1903x944)](https://yadi.sk/d/otFizqYUebpBVQ/%D0%9B%D0%A04_%D0%91%D0%B8%D0%BA%D0%B5%D0%B5%D0%B2%20-%20%D0%96%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5.mp4)

## Процесс работы программы
  1. При запуске приложения сначала спрашивают пользователя желает ли он восстановить предыдущую сессию файловой системы и приложения в случаи, если такая сессия была.ф
  2. Открывается окно приложения, где в колонке "файлы" - загружаются все файлы из папки file_system
  3. В колонке "Журнал" - фиксируются все события, которые были произведены с файловой системой: добавление/удаление/изменения файлов, восстановлена сессия/нет, были ли какие-либо ошибки при работе программы. При удалении файлов в папке "file_system" - с помощью Таска, который каждую ~секунду проверяет состояние файловой систему - обновляет информацию в колонке "файлы" и "журнал".
  4. При выборе файла в колонке "файлы" - отобразиться его содержимое и появится возможность его изменить.
  5. При нажатии сохранить - файл сохраниться со всеми изменениями в файловой системе.
  6. Если выбрать файл в колонке "файлы" - файл так же удалиться из файловой системы
  7. После окончания работы с приложением - все файлы из "file_system" запишутс в папку "backup" вместе с сохранением состояния приложения в файл "state_app.xml"
  8. При очередном запуске нас спросят хотим ли восстановить файловую систему и состояние приложения. Если нажать "да", то из папки "backup" все файлы скопируются в "file_system", а так же восстановиться последние действия, которые были произведены в приложении.
  
## Как запустить программу ?
1) Заходим в папку '~\Journaling\Release\{Ваша операционная система}'
  1.1) Если в вашей папке не будет папок "backup" или "file_system" - создайте их.
2) Запускаем файл 'JournalingGUI' и наслаждаемся работой
